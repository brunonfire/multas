
<h1> <%= t("general.users") %> </h1>

<table>
  <tr>
    <th> <%= t("activerecord.attributes.user.name") %> </th>
    <th> <%= t("activerecord.attributes.user.email") %> </th>
    <th> <%= t("activerecord.attributes.user.status") %> </th>
    <th> <%= t("activerecord.attributes.user.user_type") %> </th>
    <th> <%= t("activerecord.attributes.user.user_type") %> </th>
    <th> <%= t("general.actions") %> </th>
  </tr>
  <tr>
    <% @users.each do |user| %>

    <td> <%= (user.name).capitalize %> </td>
    <td> <%= (user.email) %> </td>
    <td> <%= enum_to_name(user, :status) %> </td>
    <td> <%= enum_to_name(user, :user_type) %> </td>
    <td> <%= current_user.company.name %> </td>
    <td> <%= link_to t("general.buttons.show"), user_path(user) %> </td>


    <td> <%= link_to t("general.buttons.edit"), edit_user_path(user) if current_user.admin? %> </td>
    <td> <%= link_to t("general.buttons.delete"), user_path(user), method: :delete, data: {confirm: I18n.t("general.messages.confirm")} if current_user.admin? %> </td>
        <td> <%= link_to user.status == "enabled" ? t("general.buttons.disable") : t("general.buttons.enable"), user_enable_disable_path(user), method: :post, remote: true  if current_user.admin?%> </td>
  </tr>

    <% end %>
</table>

<%= link_to t("general.buttons.new"), new_user_path if current_user.admin? %>
<%= will_paginate @users %>
